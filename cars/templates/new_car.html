{% extends "base.html" %}

{% block title %}Novo Carro | TopCar{% endblock %}

{% block content %}

<style>
  /* --- CONTAINER PRINCIPAL (CARD VERTICAL) --- */
  .content-wrapper {
    display: flex;
    flex-direction: column; /* <--- MUDANÇA: Um em cima do outro */
    width: 100%;
    background-color: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    
    /* <--- MUDANÇA: Largura controlada para não ficar gigante */
    max-width: 700px; 
    margin: 40px auto; /* Centraliza na tela */
  }

  /* --- IMAGEM DE TOPO (BANNER) --- */
  .image-section {
    width: 100%;
    height: 220px; /* Altura fixa para o banner */
    /* Foto de destaque */
    background-image: url('https://images.unsplash.com/photo-1485291571150-772bcfc10da5?q=80&w=2128&auto=format&fit=crop');
    background-size: cover;
    background-position: center;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 30px;
    color: white;
  }

  .image-section::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    /* Gradiente para o texto aparecer bem */
    background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
  }

  .image-text {
    position: relative;
    z-index: 2;
  }

  .image-text h2 {
    font-size: 2rem;
    margin-bottom: 5px;
    font-weight: 700;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }

  .image-text p {
    font-size: 1rem;
    opacity: 0.9;
    font-weight: 500;
  }

  /* --- ÁREA DO FORMULÁRIO --- */
  .form-section {
    padding: 40px; /* Espaçamento interno */
    background-color: #ffffff;
  }

  .form-header {
    margin-bottom: 25px;
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
  }

  .form-header h1 {
    font-size: 1.6rem;
    color: var(--text-color);
  }

  /* --- ESTILOS DO FORM (Mantendo o Design System) --- */
  form p { margin-bottom: 20px; }
  
  form label { 
    display: block; 
    margin-bottom: 8px; 
    font-weight: 600; 
    font-size: 0.9rem; 
    color: #444; 
    margin-left: 15px; 
  }
  
  /* Inputs Pílula */
  form input[type="text"], 
  form input[type="number"], 
  form input[type="email"], 
  form select, 
  form textarea {
    width: 100%; 
    padding: 12px 20px; 
    border: 2px solid #eee; 
    border-radius: 50px; 
    font-size: 1rem; 
    background-color: #f9f9f9; 
    transition: all 0.3s ease; 
    outline: none; 
    font-family: 'Open Sans', sans-serif;
  }
  
  /* Select Customizado */
  form select { 
    appearance: none; 
    background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"); 
    background-repeat: no-repeat; 
    background-position: right 20px top 50%; 
    background-size: 12px auto; 
    cursor: pointer; 
  }
  
  form input[type="file"] { 
    padding: 10px; 
    background-color: white; 
    border-radius: 20px; 
  }
  
  form input:focus, form select:focus, form textarea:focus { 
    border-color: var(--primary-color); 
    background-color: white; 
    box-shadow: 0 4px 15px rgba(0, 150, 199, 0.15); 
  }
  
  /* Botão Salvar */
  input[type="submit"] { 
    width: 100%; 
    padding: 14px; 
    background-color: var(--primary-color); 
    color: white; 
    border: none; 
    border-radius: 50px; 
    font-size: 1rem; 
    font-weight: 700; 
    cursor: pointer; 
    transition: transform 0.2s, background-color 0.3s; 
    margin-top: 20px; 
  }
  
  input[type="submit"]:hover { 
    background-color: var(--primary-dark); 
    transform: translateY(-2px); 
    box-shadow: 0 5px 15px rgba(0, 150, 199, 0.3); 
  }
  
  .helptext { 
    font-size: 0.8rem; 
    color: #888; 
    margin-left: 20px; 
    margin-top: 4px; 
    display: block; 
  }

  /* No mobile, ajustamos apenas o padding para não perder espaço */
  @media (max-width: 768px) {
    .content-wrapper { margin: 20px 10px; width: auto; }
    .form-section { padding: 25px; }
  }
</style>

<div class="content-wrapper">
  
  <div class="image-section">
    <div class="image-text">
      <h2>Novo Veículo</h2>
      <p>Preencha os detalhes abaixo.</p>
    </div>
  </div>

  <div class="form-section">
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" value="Salvar Cadastro">
    </form>
  </div>

</div>

{% endblock %}